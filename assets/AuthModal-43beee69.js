import{j as e}from"./index-2131e199.js";import{r as o}from"./vendor-fb33f09a.js";import{T as d}from"./tmdb-7d22c749.js";import"./router-da1a9608.js";import"./firebase-675639f3.js";import"./swiper-4aa82847.js";import"./ui-587aa023.js";const j=({isOpen:i,onClose:l,onAuthSuccess:h})=>{const[s,t]=o.useState(null),[r,n]=o.useState(!1),c=async()=>{n(!0),t(null);try{const u=`https://www.themoviedb.org/authenticate/${await d.createRequestToken()}?redirect_to=http://localhost:5179/auth-callback`;window.location.href=u}catch(a){console.error("AuthModal error:",a.message),a.message.includes("Invalid TMDB API key")?t("Invalid TMDB API key. Please contact support."):a.message.includes("rate limit")?t("TMDB API rate limit exceeded. Please try again in a few seconds."):t("Failed to initiate TMDB authentication. Please try again.")}finally{n(!1)}};return i?e.jsx("div",{className:"auth-modal",children:e.jsxs("div",{className:"auth-modal-content",children:[e.jsx("button",{className:"auth-close",onClick:l,children:"Ã—"}),e.jsx("h2",{children:"Sign In"}),e.jsx("p",{children:"Connect your TMDB account to access personalized features."}),s&&e.jsx("div",{className:"auth-error",children:s}),e.jsx("button",{className:"auth-btn",onClick:c,disabled:r,children:r?"Connecting...":"Sign in with TMDB"})]})}):null};export{j as default};
