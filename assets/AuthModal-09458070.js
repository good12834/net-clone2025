import{j as e}from"./index-d06414c8.js";import{r as i}from"./vendor-fb33f09a.js";import{T as h}from"./tmdb-8e3777b8.js";import"./router-da1a9608.js";import"./firebase-675639f3.js";import"./swiper-4aa82847.js";import"./ui-587aa023.js";const b=({isOpen:r,onClose:c,onAuthSuccess:m})=>{const[s,o]=i.useState(null),[a,n]=i.useState(!1),l=async()=>{n(!0),o(null);try{const t=await h.createRequestToken(),d=window.location.hostname!=="localhost"?"https://good12834.github.io/net-clone2025":"http://localhost:5179",u=`https://www.themoviedb.org/authenticate/${t}?redirect_to=${d}/auth-callback`;window.location.href=u}catch(t){console.error("AuthModal error:",t.message),t.message.includes("Invalid TMDB API key")?o("Invalid TMDB API key. Please contact support."):t.message.includes("rate limit")?o("TMDB API rate limit exceeded. Please try again in a few seconds."):o("Failed to initiate TMDB authentication. Please try again.")}finally{n(!1)}};return r?e.jsx("div",{className:"auth-modal",children:e.jsxs("div",{className:"auth-modal-content",children:[e.jsx("button",{className:"auth-close",onClick:c,children:"Ã—"}),e.jsx("h2",{children:"Sign In"}),e.jsx("p",{children:"Connect your TMDB account to access personalized features."}),s&&e.jsx("div",{className:"auth-error",children:s}),e.jsx("button",{className:"auth-btn",onClick:l,disabled:a,children:a?"Connecting...":"Sign in with TMDB"})]})}):null};export{b as default};
