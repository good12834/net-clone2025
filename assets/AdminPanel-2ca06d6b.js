import{j as a}from"./index-121873b2.js";import{c as v,g as R,r as j}from"./vendor-fb33f09a.js";import{T as $}from"./tmdb-b6f762e8.js";import"./router-da1a9608.js";import"./firebase-675639f3.js";import"./swiper-4aa82847.js";import"./ui-587aa023.js";var F="Expected a function",O=0/0,M="[object Symbol]",B=/^\s+|\s+$/g,D=/^[-+]0x[0-9a-f]+$/i,W=/^0b[01]+$/i,w=/^0o[0-7]+$/i,_=parseInt,G=typeof v=="object"&&v&&v.Object===Object&&v,H=typeof self=="object"&&self&&self.Object===Object&&self,Q=G||H||Function("return this")(),q=Object.prototype,U=q.toString,V=Math.max,X=Math.min,N=function(){return Q.Date.now()};function z(e,n,s){var f,m,b,c,i,o,l=0,g=!1,h=!1,p=!0;if(typeof e!="function")throw new TypeError(F);n=C(n)||0,T(s)&&(g=!!s.leading,h="maxWait"in s,b=h?V(C(s.maxWait)||0,n):b,p="trailing"in s?!!s.trailing:p);function r(t){var d=f,x=m;return f=m=void 0,l=t,c=e.apply(x,d),c}function u(t){return l=t,i=setTimeout(y,n),g?r(t):c}function A(t){var d=t-o,x=t-l,I=n-d;return h?X(I,b-x):I}function k(t){var d=t-o,x=t-l;return o===void 0||d>=n||d<0||h&&x>=b}function y(){var t=N();if(k(t))return E(t);i=setTimeout(y,A(t))}function E(t){return i=void 0,p&&f?r(t):(f=m=void 0,c)}function P(){i!==void 0&&clearTimeout(i),l=0,f=o=m=i=void 0}function L(){return i===void 0?c:E(N())}function S(){var t=N(),d=k(t);if(f=arguments,m=this,o=t,d){if(i===void 0)return u(o);if(h)return i=setTimeout(y,n),r(o)}return i===void 0&&(i=setTimeout(y,n)),c}return S.cancel=P,S.flush=L,S}function T(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function J(e){return!!e&&typeof e=="object"}function K(e){return typeof e=="symbol"||J(e)&&U.call(e)==M}function C(e){if(typeof e=="number")return e;if(K(e))return O;if(T(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=T(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=e.replace(B,"");var s=W.test(e);return s||w.test(e)?_(e.slice(2),s?2:8):D.test(e)?O:+e}var Y=z;const Z=R(Y);const oe=({isOpen:e,onClose:n})=>{const[s,f]=j.useState(""),[m,b]=j.useState([]),[c,i]=j.useState(!1),[o,l]=j.useState(null),g=j.useCallback(Z(async r=>{if(!r.trim()){l("Please enter a search query");return}i(!0),l(null);try{const{results:u}=await $.search(r,1);b(u)}catch(u){l("Search failed. Please try again."),console.error("Admin search error:",u.message)}finally{i(!1)}},500),[]),h=r=>{const u=r.target.value;f(u),g(u)},p=r=>{r.preventDefault(),s.trim()&&g.flush()};return e?a.jsx("div",{className:"admin-panel d-flex justify-content-center align-items-center",children:a.jsxs("div",{className:"admin-panel-content bg-dark text-white p-4 rounded shadow-lg",children:[a.jsx("button",{className:"admin-panel-close btn btn-outline-light",onClick:n,children:"Ã—"}),a.jsx("h2",{className:"mb-4",children:"Admin Panel"}),a.jsxs("form",{onSubmit:p,className:"input-group mb-3",children:[a.jsx("input",{type:"text",className:"form-control bg-dark text-white border-netflix-red",placeholder:"Search movies or TV shows...",value:s,onChange:h}),a.jsx("button",{className:"btn btn-netflix-red",type:"submit",disabled:c,children:c?a.jsx("i",{className:"fas fa-spinner fa-spin"}):a.jsx("i",{className:"fas fa-search"})})]}),o&&a.jsx("div",{className:"text-danger mb-3",children:o}),a.jsx("div",{className:"admin-results row",children:m.map(r=>a.jsxs("div",{className:"admin-result-item col-6 col-md-4 col-lg-3 mb-3",children:[a.jsx("img",{src:r.image,alt:r.title,className:"img-fluid rounded",style:{maxHeight:"200px",objectFit:"cover"}}),a.jsx("p",{className:"mt-2 text-center",children:r.title})]},r.id))})]})}):null};export{oe as default};
